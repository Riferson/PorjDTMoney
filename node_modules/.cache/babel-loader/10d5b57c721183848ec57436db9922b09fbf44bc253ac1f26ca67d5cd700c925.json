{"ast":null,"code":"var _jsxFileName = \"/home/drmais/Curso Ignite/PorjDTMoney/dtmoney/src/TransactionsContext.tsx\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from 'react';\nimport { api } from './services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TransactionsContext = /*#__PURE__*/createContext({});\nexport function TransactionProvider(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [transactions, setTransactions] = useState([]);\n  useEffect(() => {\n    api.get('transactions').then(response => setTransactions(response.data.transactions));\n  }, []);\n  async function createTransaction(transactionInput) {\n    const response = await api.post('/transactions', {\n      ...transactionInput,\n      createdAt: new Date()\n    });\n    const {\n      transaction\n    } = response.data;\n    setTransactions([...transactions, transaction]);\n  }\n  return /*#__PURE__*/_jsxDEV(TransactionsContext.Provider, {\n    value: {\n      transactions,\n      createTransaction\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(TransactionProvider, \"tSC852gg/pAfbHr6jYEePbawnUU=\");\n_c = TransactionProvider;\nvar _c;\n$RefreshReg$(_c, \"TransactionProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","api","TransactionsContext","TransactionProvider","children","transactions","setTransactions","get","then","response","data","createTransaction","transactionInput","post","createdAt","Date","transaction"],"sources":["/home/drmais/Curso Ignite/PorjDTMoney/dtmoney/src/TransactionsContext.tsx"],"sourcesContent":["import {createContext, useEffect, useState,ReactNode} from 'react';\nimport { api } from './services/api';\n\n\ninterface Transaction{\n    id:number;\n    title:string;\n    amount:number;\n    type:string;\n    category:string;\n    createdAt:string;\n}\n\ntype TransactionInput = Omit<Transaction, 'id' | 'createdAt'>;\n\ninterface TransactionsProviderProps {\n    children: ReactNode;\n}\n\ninterface TransactionsContextData{\n    transactions:Transaction[];\n    createTransaction:(transaction:TransactionInput)=>Promise<void>;\n}\n\nexport const TransactionsContext = createContext<TransactionsContextData>({} as TransactionsContextData);\n\nexport function TransactionProvider({children}:TransactionsProviderProps){\n    const [transactions, setTransactions] = useState<Transaction[]>([]);\n\n    useEffect(()=>{\n        api.get('transactions')\n        .then(response => setTransactions(response.data.transactions))\n    },[]);\n\n    async function createTransaction(transactionInput:TransactionInput ){\n        \n        const response = await api.post('/transactions',{\n            ...transactionInput,\n            createdAt:new Date(),\n        })\n\n        const { transaction } = response.data;\n\n        setTransactions([\n            ...transactions,\n            transaction\n        ]);\n    }\n\n    return (\n        <TransactionsContext.Provider value={{transactions,createTransaction}}>\n            {children}\n        </TransactionsContext.Provider>\n    );\n  \n}"],"mappings":";;AAAA,SAAQA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAiB,OAAO;AAClE,SAASC,GAAG,QAAQ,gBAAgB;AAAC;AAuBrC,OAAO,MAAMC,mBAAmB,gBAAGJ,aAAa,CAA0B,CAAC,CAAC,CAA4B;AAExG,OAAO,SAASK,mBAAmB,OAAsC;EAAA;EAAA,IAArC;IAACC;EAAkC,CAAC;EACpE,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGN,QAAQ,CAAgB,EAAE,CAAC;EAEnED,SAAS,CAAC,MAAI;IACVE,GAAG,CAACM,GAAG,CAAC,cAAc,CAAC,CACtBC,IAAI,CAACC,QAAQ,IAAIH,eAAe,CAACG,QAAQ,CAACC,IAAI,CAACL,YAAY,CAAC,CAAC;EAClE,CAAC,EAAC,EAAE,CAAC;EAEL,eAAeM,iBAAiB,CAACC,gBAAiC,EAAE;IAEhE,MAAMH,QAAQ,GAAG,MAAMR,GAAG,CAACY,IAAI,CAAC,eAAe,EAAC;MAC5C,GAAGD,gBAAgB;MACnBE,SAAS,EAAC,IAAIC,IAAI;IACtB,CAAC,CAAC;IAEF,MAAM;MAAEC;IAAY,CAAC,GAAGP,QAAQ,CAACC,IAAI;IAErCJ,eAAe,CAAC,CACZ,GAAGD,YAAY,EACfW,WAAW,CACd,CAAC;EACN;EAEA,oBACI,QAAC,mBAAmB,CAAC,QAAQ;IAAC,KAAK,EAAE;MAACX,YAAY;MAACM;IAAiB,CAAE;IAAA,UACjEP;EAAQ;IAAA;IAAA;IAAA;EAAA,QACkB;AAGvC;AAAC,GA7BeD,mBAAmB;AAAA,KAAnBA,mBAAmB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}